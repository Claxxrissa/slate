<h1 id='dispatcher'>Dispatcher</h1><h2 id='get-current-dispatcher-user'>Get current dispatcher user</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/info'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"socket_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{SOCKET_TOKEN}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Admin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(+84)9039233232"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"device_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{DEVICE_TOKEN}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{COMPANY}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves current dispatcher user.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/info</code></p>
<h3 id='headers'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h2 id='create-new-company-user'>Create new company user</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/users'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'phone: {{phone}}'</span> <span class="se">\</span>
  -d <span class="s1">'password: {{password}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'email: {{email}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_profile"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+987654330"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.638969Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new company user.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/users</code></p>
<h3 id='headers-2'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td>{{phone}}</td>
<td>String</td>
</tr>
<tr>
<td>password</td>
<td>{{password}}</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>Number</td>
</tr>
<tr>
<td>email</td>
<td>{{email}}</td>
<td>Number</td>
</tr>
</tbody></table>
<h2 id='list-company-users'>List company users</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/users'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_profile"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+987654330"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.638805Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves company users.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/users</code></p>
<h3 id='headers-3'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h2 id='list-partners-of-a-company'>List partners of a company</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/partners'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111111"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"partnership_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"downstream"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6599999999"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{CIP}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson road, Singapore."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves partners of a company.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/partners</code></p>
<h3 id='headers-4'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
</tbody></table>
<h2 id='create-a-partner'>Create a partner</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/partners'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'postal_code: {{postal_code}}'</span> <span class="se">\</span>
  -d <span class="s1">'partnership_type: {{partnership_type}}'</span> <span class="se">\</span>
  -d <span class="s1">'country: {{country}}'</span> <span class="se">\</span>
  -d <span class="s1">'contact_phone: {{contact_phone}}'</span> <span class="se">\</span>
  -d <span class="s1">'contact_name: {{contact_name}}'</span> <span class="se">\</span>
  -d <span class="s1">'contact_email: {{contact_email}}'</span> <span class="se">\</span>
  -d <span class="s1">'company_name: {{company_name}}'</span> <span class="se">\</span>
  -d <span class="s1">'city: {{city}}'</span> <span class="se">\</span>
  -d <span class="s1">'address: {{address}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111111"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"partnership_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"downstream"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6599999999"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{CIP}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson road, Singapore."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint create a partner.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/partners</code></p>
<h3 id='headers-5'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-2'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>postal_code</td>
<td>{{postal_code}}</td>
<td>Number</td>
</tr>
<tr>
<td>partnership_type</td>
<td>{{partnership_type}}</td>
<td>String</td>
</tr>
<tr>
<td>country</td>
<td>{{country}}</td>
<td>String</td>
</tr>
<tr>
<td>contact_phone</td>
<td>{{contact_phone}}</td>
<td>String</td>
</tr>
<tr>
<td>contact_name</td>
<td>{{contact_name}}</td>
<td>String</td>
</tr>
<tr>
<td>contact_email</td>
<td>{{contact_email}}</td>
<td>String</td>
</tr>
<tr>
<td>company_name</td>
<td>{{company_name}}</td>
<td>String</td>
</tr>
<tr>
<td>city</td>
<td>{{city}}</td>
<td>String</td>
</tr>
<tr>
<td>address</td>
<td>{{address}}</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='update-company-user'>Update company user</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/users/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'phone: {{phone}}'</span> <span class="se">\</span>
  -d <span class="s1">'password: {{password}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_profile"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+987654330"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.638805Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a company user.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/users/{id}</code></p>
<h3 id='headers-6'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-3'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td>{{phone}}</td>
<td>String</td>
</tr>
<tr>
<td>password</td>
<td>{{password}}</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>Number</td>
</tr>
</tbody></table>
<h2 id='update-company-partner-info'>Update company partner info</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/company_partner_info'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'contact_phone: {{contact_phone}}'</span> <span class="se">\</span>
  -d <span class="s1">'contact_name: {{contact_name}}'</span> <span class="se">\</span>
  -d <span class="s1">'contact_email: {{contact_email}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111111"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"partnership_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"downstream"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6599999999"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{CIP}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson road, Singapore."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates company partner info.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/company_partner_info</code></p>
<h3 id='headers-7'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-4'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>contact_phone</td>
<td>{{contact_phone}}</td>
<td>String</td>
</tr>
<tr>
<td>contact_name</td>
<td>{{contact_name}}</td>
<td>String</td>
</tr>
<tr>
<td>contact_email</td>
<td>{{contact_email}}</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='invite-a-partner-company'>Invite a partner company</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/partners/{cip}/send_invite'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint invites a partner company.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/partners/{cip}/send_invite</code></p>
<h3 id='headers-8'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cip</td>
<td>Partner CIP</td>
</tr>
<tr>
<td>partnership_type</td>
<td>Partnership type</td>
</tr>
</tbody></table>
<h2 id='get-partner-details'>Get partner details</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/partners/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_profile"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+987654330"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.638805Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a partner details.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/partners/{id}</code></p>
<h3 id='headers-9'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-3'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cip</td>
<td>Partner CIP</td>
</tr>
</tbody></table>
<h2 id='accept-a-partner-company-invite'>Accept a partner company invite</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/partners/{cip}/accept_invite'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint accepts a partner company invite.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/partners/{cip}/accept_invite</code></p>
<h3 id='headers-10'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-4'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cip</td>
<td>Partner CIP</td>
</tr>
</tbody></table>
<h2 id='declines-a-partner-company-invite'>Declines a partner company invite</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/partners/{cip}/reject_invite'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint declines a partner company invite.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/partners/{cip}/reject_invite</code></p>
<h3 id='headers-11'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-5'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cip</td>
<td>Partner CIP</td>
</tr>
</tbody></table>
<h2 id='create-new-individual-sender'>Create new individual sender</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/senders'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'sender_type: {{sender_type}}'</span> <span class="se">\</span>
  -d <span class="s1">'phone: {{phone}}'</span> <span class="se">\</span>
  -d <span class="s1">'password: {{password}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'email: {{email}}'</span> <span class="se">\</span>
  -d <span class="s1">'billing_address: {{billing_address}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sender_user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"individual"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8412345611"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{PASSWORD}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.641243Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Road"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new individual sender.</p>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/senders</code></p>
<h3 id='headers-12'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-5'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>sender_type</td>
<td>{{sender_type}}</td>
<td>String</td>
</tr>
<tr>
<td>phone</td>
<td>{{phone}}</td>
<td>String</td>
</tr>
<tr>
<td>password</td>
<td>{{password}}</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>email</td>
<td>{{email}}</td>
<td>String</td>
</tr>
<tr>
<td>billing_address</td>
<td>{{billing_address}}</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='list-individual-sender'>List individual sender</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/senders'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sender_user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"individual"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8412345611"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{PASSWORD}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.641243Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Road"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves individual senders.</p>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/senders</code></p>
<h3 id='headers-13'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-6'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>sender_type</td>
<td>Sender type (individual/organisation)</td>
<td>optional</td>
</tr>
<tr>
<td>q</td>
<td>Search by sender name or organisation name</td>
<td>optional</td>
</tr>
</tbody></table>
<h2 id='update-an-individual-sender'>Update an individual sender</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/senders/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'phone: {{phone}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'email: {{email}}'</span> <span class="se">\</span>
  -d <span class="s1">'billing_address: {{billing_address}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sender_user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"individual"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8412345611"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{PASSWORD}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.641243Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Road"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates an individual sender.</p>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/senders/{id}</code></p>
<h3 id='headers-14'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-6'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td>{{phone}}</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>email</td>
<td>{{email}}</td>
<td>String</td>
</tr>
<tr>
<td>billing_address</td>
<td>{{billing_address}}</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='update-an-individual-sender-2'>Update an individual sender</h2><pre class="highlight shell tab-shell"><code>curl -X PATCH <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/senders/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'phone: {{phone}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'email: {{email}}'</span> <span class="se">\</span>
  -d <span class="s1">'billing_address: {{billing_address}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sender_user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"individual"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8412345611"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{PASSWORD}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.641243Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Road"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates an individual sender.</p>
<h3 id='http-request-15'>HTTP Request</h3>
<p><code>PATCH https://umbrella-demo.yojee.com/api/v3/dispatcher/senders/{id}</code></p>
<h3 id='headers-15'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-7'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td>{{phone}}</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>email</td>
<td>{{email}}</td>
<td>String</td>
</tr>
<tr>
<td>billing_address</td>
<td>{{billing_address}}</td>
<td>String</td>
</tr>
</tbody></table>
<h3 id='parameters-7'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Sender ID</td>
</tr>
</tbody></table>
<h2 id='get-an-individual-sender'>Get an individual sender</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/senders/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sender_user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"individual"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8412345611"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{PASSWORD}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.641243Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Road"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves an individual sender.</p>
<h3 id='http-request-16'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/senders/{id}</code></p>
<h3 id='headers-16'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-8'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Sender ID</td>
</tr>
</tbody></table>
<h2 id='delete-an-individual-sender'>Delete an individual sender</h2><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/senders/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes an individual sender.</p>
<h3 id='http-request-17'>HTTP Request</h3>
<p><code>DELETE https://umbrella-demo.yojee.com/api/v3/dispatcher/senders/{id}</code></p>
<h3 id='headers-17'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-9'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Sender ID</td>
</tr>
</tbody></table>
<h2 id='list-sender-admins'>List sender admins</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/senders'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account Manager"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"organisations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yojee"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reg_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"St George's Rd"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"068908"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6591245736"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organisation 3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sam"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves sender admins.</p>
<h3 id='http-request-18'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/senders</code></p>
<h3 id='headers-18'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-10'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
</tbody></table>
<h2 id='list-organisation-users-primary-and-secondary-account-of-a-company'>List organisation users (Primary and Secondary account) of a company</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/organisation_senders'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves organisation users (Primary and Secondary account) of a company.</p>
<h3 id='http-request-19'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/organisation_senders</code></p>
<h3 id='headers-19'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-11'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
</tbody></table>
<h2 id='create-new-corporate-sender'>Create new corporate sender</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/organisations/{id}/senders'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'title: {{title}}'</span> <span class="se">\</span>
  -d <span class="s1">'sender_type: {{sender_type}}'</span> <span class="se">\</span>
  -d <span class="s1">'phone: {{phone}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'email: {{email}}'</span> <span class="se">\</span>
  -d <span class="s1">'billing_address: {{billing_address}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6598765432"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ACCESS_TOKEN}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new corporate sender.</p>
<h3 id='http-request-20'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/organisations/{id}/senders</code></p>
<h3 id='headers-20'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-8'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>{{title}}</td>
<td>String</td>
</tr>
<tr>
<td>sender_type</td>
<td>{{sender_type}}</td>
<td>String</td>
</tr>
<tr>
<td>phone</td>
<td>{{phone}}</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>email</td>
<td>{{email}}</td>
<td>String</td>
</tr>
<tr>
<td>billing_address</td>
<td>{{billing_address}}</td>
<td>String</td>
</tr>
</tbody></table>
<h3 id='parameters-12'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Organisation ID</td>
</tr>
</tbody></table>
<h2 id='list-client-company-users-ccus-of-an-organisation'>List client company users (CCUs) of an organisation</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/organisations/{id}/senders'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves client company users (CCUs) of an organisation.</p>
<h3 id='http-request-21'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/organisations/{id}/senders</code></p>
<h3 id='headers-21'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-13'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>id</td>
<td>Organisation ID</td>
<td>-</td>
</tr>
</tbody></table>
<h2 id='create-new-organisation'>Create new organisation</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/organisations'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'uen_no: {{uen_no}}'</span> <span class="se">\</span>
  -d <span class="s1">'title: {{title}}'</span> <span class="se">\</span>
  -d <span class="s1">'sender_type: {{sender_type}}'</span> <span class="se">\</span>
  -d <span class="s1">'phone: {{phone}}'</span> <span class="se">\</span>
  -d <span class="s1">'payment_option: {{payment_option}}'</span> <span class="se">\</span>
  -d <span class="s1">'organisation: {{organisation}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'gst_no: {{gst_no}}'</span> <span class="se">\</span>
  -d <span class="s1">'email: {{email}}'</span> <span class="se">\</span>
  -d <span class="s1">'organisation: {{organisation}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6598765432"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pCVPeEEUuKnM7geUOcSLY2imA5l6YUdjymkApBDAAGY="</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new organisation.</p>
<h3 id='http-request-22'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/dispatcher/organisations</code></p>
<h3 id='body-9'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>uen_no</td>
<td>{{uen_no}}</td>
<td>String</td>
</tr>
<tr>
<td>title</td>
<td>{{title}}</td>
<td>String</td>
</tr>
<tr>
<td>sender_type</td>
<td>{{sender_type}}</td>
<td>String</td>
</tr>
<tr>
<td>phone</td>
<td>{{phone}}</td>
<td>String</td>
</tr>
<tr>
<td>payment_option</td>
<td>{{payment_option}}</td>
<td>String</td>
</tr>
<tr>
<td>organisation</td>
<td>{{reg_address}}</td>
<td>String</td>
</tr>
<tr>
<td></td>
<td>{{postal_code}}</td>
<td>String</td>
</tr>
<tr>
<td></td>
<td>{{phone}}</td>
<td>String</td>
</tr>
<tr>
<td></td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td></td>
<td>{{country}}</td>
<td>String</td>
</tr>
<tr>
<td></td>
<td>{{city}}</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>gst_no</td>
<td>{{gst_no}}</td>
<td>String</td>
</tr>
<tr>
<td>email</td>
<td>{{email}}</td>
<td>String</td>
</tr>
<tr>
<td>billing_address</td>
<td>{{billing_address}}</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='list-organisations-of-a-company'>List organisations of a company</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/organisations'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reg_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77 Robinson road, Singapore."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"321021"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6591245934"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves organisations of a company.</p>
<h3 id='http-request-23'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/organisations</code></p>
<h3 id='headers-22'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-14'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
</tbody></table>
<h2 id='get-organisation-details'>Get organisation details</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/organisations/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"reg_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77 Robinson road, Singapore."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"321021"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6591240934"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FEDEX"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves organisation details.</p>
<h3 id='http-request-24'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/organisations/{id}</code></p>
<h3 id='headers-23'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-15'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>id</td>
<td>Organisation ID</td>
<td></td>
</tr>
</tbody></table>
<h2 id='create-new-worker'>Create new worker</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/workers'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'vehicle_type_ids: {{vehicle_type_ids}}'</span> <span class="se">\</span>
  -d <span class="s1">'tester: {{tester}}'</span> <span class="se">\</span>
  -d <span class="s1">'phone: {{phone}}'</span> <span class="se">\</span>
  -d <span class="s1">'password: {{password}}'</span> <span class="se">\</span>
  -d <span class="s1">'otp_token: {{otp_token}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'location: {{location}}'</span> <span class="se">\</span>
  -d <span class="s1">'email: {{email}}'</span> <span class="se">\</span>
  -d <span class="s1">'current_vehicle_type_id: {{current_vehicle_type_id}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vehicle_type_registers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bike"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Car"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"vehicle_type_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">1</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tester"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+987654322"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{PASSWORD}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"otp_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1122334455"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">" Driver"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">122.6428429677108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">65.67691234535297</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.640034Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"distance_away"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"current_vehicle_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ACCESS_TOKEN}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new worker.</p>
<h3 id='http-request-25'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/v3/api/dispatcher/workers</code></p>
<h3 id='headers-24'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-10'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>vehicle_type_ids</td>
<td>{{vehicle_type_ids}}</td>
<td>Integer</td>
</tr>
<tr>
<td>tester</td>
<td>{{tester}}</td>
<td>String</td>
</tr>
<tr>
<td>phone</td>
<td>{{phone}}</td>
<td>String</td>
</tr>
<tr>
<td>password</td>
<td>{{password}}</td>
<td>String</td>
</tr>
<tr>
<td>otp_token</td>
<td>{{otp_token}}</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>location</td>
<td>{{lng}}</td>
<td>Number</td>
</tr>
<tr>
<td></td>
<td>{{city}}</td>
<td>Number</td>
</tr>
<tr>
<td>email</td>
<td>{{email}}</td>
<td>String</td>
</tr>
<tr>
<td>current_vehicle_type_id</td>
<td>{{current_vehicle_type_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>billing_address</td>
<td>{{billing_address}}</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='list-workers'>List workers</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/workers'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vehicle_type_registers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bike"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Car"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"vehicle_type_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">1</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tester"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+987654322"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{PASSWORD}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"otp_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1122334455"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">122.6428429677108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">65.67691234535297</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.640034Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"distance_away"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"current_vehicle_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ACCESS_TOKEN}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of workers.</p>
<h3 id='http-request-26'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/workers</code></p>
<h3 id='headers-25'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-16'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>sort</td>
<td>The field to sort (id/distance/etc.)</td>
<td>optional</td>
</tr>
<tr>
<td>order</td>
<td>Asc/Desc</td>
<td>optional</td>
</tr>
<tr>
<td>status</td>
<td>Driver status</td>
<td>optional</td>
</tr>
<tr>
<td>from</td>
<td>From timestamp</td>
<td>optional</td>
</tr>
<tr>
<td>to</td>
<td>To timestamp</td>
<td>optional</td>
</tr>
<tr>
<td>name</td>
<td>Worker name</td>
<td>optional</td>
</tr>
<tr>
<td>target_location</td>
<td>Geospatial coordinates of a location</td>
<td>optional</td>
</tr>
<tr>
<td>with_in</td>
<td>Length of range (with target_location at center) in meters</td>
<td>optional</td>
</tr>
</tbody></table>
<h2 id='update-a-worker'>Update a worker</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/workers'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vehicle_type_registers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bike"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Car"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"vehicle_type_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">1</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tester"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+987654322"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{PASSWORD}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"otp_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1122334455"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">122.6428429677108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">65.67691234535297</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.640034Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"distance_away"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"current_vehicle_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ACCESS_TOKEN}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a worker.</p>
<h3 id='http-request-27'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/v3/api/dispatcher/workers</code></p>
<h3 id='headers-26'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-17'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>sort</td>
<td>The field to sort (id/distance/etc.)</td>
<td>optional</td>
</tr>
<tr>
<td>order</td>
<td>Asc/Desc</td>
<td>optional</td>
</tr>
<tr>
<td>status</td>
<td>Driver status</td>
<td>optional</td>
</tr>
<tr>
<td>from</td>
<td>From timestamp</td>
<td>optional</td>
</tr>
<tr>
<td>to</td>
<td>To timestamp</td>
<td>optional</td>
</tr>
<tr>
<td>name</td>
<td>Worker name</td>
<td>optional</td>
</tr>
<tr>
<td>target_location</td>
<td>Geospatial coordinates of a location</td>
<td>optional</td>
</tr>
<tr>
<td>with_in</td>
<td>Length of range (with target_location at center) in meters</td>
<td>optional</td>
</tr>
<tr>
<td>id</td>
<td>Worker ID</td>
<td>-</td>
</tr>
</tbody></table>
<h2 id='get-a-worker-information'>Get a worker information</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vehicle_type_registers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bike"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Car"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"vehicle_type_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">1</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tester"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+987654322"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{PASSWORD}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"otp_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1122334455"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">122.6428429677108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">65.67691234535297</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.640034Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"distance_away"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"current_vehicle_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ACCESS_TOKEN}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a worker information.</p>
<h3 id='http-request-28'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}</code></p>
<h3 id='headers-27'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-18'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Worker ID</td>
</tr>
</tbody></table>
<h2 id='delete-a-worker'>Delete a worker</h2><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes a worker.</p>
<h3 id='http-request-29'>HTTP Request</h3>
<p><code>DELETE https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}</code></p>
<h3 id='headers-28'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-19'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Worker ID</td>
</tr>
</tbody></table>
<h2 id='approve-a-worker'>Approve a worker</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}/approve'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint approves a worker.</p>
<h3 id='http-request-30'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}/approve</code></p>
<h3 id='headers-29'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-20'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Worker ID</td>
</tr>
</tbody></table>
<h2 id='cancel-an-order'>Cancel an order</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/orders/{number}/cancel'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint cancels an order.</p>
<h3 id='http-request-31'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/orders/{number}/cancel</code></p>
<h3 id='headers-30'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-21'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>Order number</td>
</tr>
</tbody></table>
<h2 id='update-price-external_id-external_customer_id-for-order'>Update price, external_id, external_customer_id for order</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/orders/{number}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span><span class="se">\</span>
  -d <span class="s1">'price_currency: {{price_currency}}'</span> <span class="se">\</span>
  -d <span class="s1">'price_amount: {{price_amount}}'</span> <span class="se">\</span>
  -d <span class="s1">'external_id: {{external_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'external_customer_id: {{external_customer_id}}'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{TRACKING_NUMBER}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD 10"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"placed_by_user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{NUMBER}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-07T09:38:38.233073"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates price, external_id, external_customer_id for order.</p>
<h3 id='http-request-32'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/orders/{number}</code></p>
<h3 id='headers-31'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-11'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>price_currency</td>
<td>{{price_currency}}</td>
<td>String</td>
</tr>
<tr>
<td>price_amount</td>
<td>{{price_amount}}</td>
<td>Number</td>
</tr>
<tr>
<td>external_id</td>
<td>{{external_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>external_customer_id</td>
<td>{{external_customer_id}}</td>
<td>Integer</td>
</tr>
</tbody></table>
<h3 id='parameters-22'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>Order number</td>
</tr>
</tbody></table>
<h2 id='show-an-order'>Show an order</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/orders/{number}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'price_currency: {{price_currency}}'</span> <span class="se">\</span>
  -d <span class="s1">'price_amount: {{price_amount}}'</span> <span class="se">\</span>
  -d <span class="s1">'external_id: {{external_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'external_customer_id: {{external_customer_id}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"O-M1RHTJHJZGKX"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"organisation"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"service_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_day"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
        </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"volumetric_weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">595508</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y-CTBVPQ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"payload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"length"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
        </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-08T08:45:38.632070"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{number}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.636386Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ACCESS_TOKEN}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves an order.</p>
<h3 id='http-request-33'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/orders/{number}</code></p>
<h3 id='headers-32'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-12'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>price_currency</td>
<td>{{price_currency}}</td>
<td>String</td>
</tr>
<tr>
<td>price_amount</td>
<td>{{price_amount}}</td>
<td>Number</td>
</tr>
<tr>
<td>external_id</td>
<td>{{external_id}}</td>
<td>String</td>
</tr>
<tr>
<td>external_customer_id</td>
<td>{{external_customer_id}}</td>
<td>String</td>
</tr>
</tbody></table>
<h3 id='parameters-23'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>Order number</td>
</tr>
</tbody></table>
<h2 id='create-order-request'>Create order request</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/orders'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'vehicle_type_id: {{vehicle_type_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'sender_id: {{sender_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'price_currency: {{price_currency}}'</span> <span class="se">\</span>
  -d <span class="s1">'price_amount: {{price_amount}}'</span> <span class="se">\</span>
  -d <span class="s1">'placed_by_user_profile_id: {{placed_by_user_profile_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'jobs: {{jobs}}'</span> <span class="se">\</span>
  -d <span class="s1">'items: {{items}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{TRACKING_NUMBER}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD 10"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"placed_by_user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{number}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-07T09:38:38.233073"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates order request.</p>
<h3 id='http-request-34'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/orders</code></p>
<h3 id='headers-33'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-13'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>vehicle_type_id</td>
<td>{{vehicle_type_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>sender_id</td>
<td>{{sender_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>price_currency</td>
<td>{{price_currency}}</td>
<td>String</td>
</tr>
<tr>
<td>price_amount</td>
<td>{{price_amount}}</td>
<td>Integer</td>
</tr>
<tr>
<td>placed_by_user_profile_id</td>
<td>{{placed_by_user_profile_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>jobs</td>
<td>{{jobs}}</td>
<td>Array</td>
</tr>
<tr>
<td>items</td>
<td>{{items}}</td>
<td>Array</td>
</tr>
</tbody></table>
<h2 id='list-orders'>List orders</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/orders'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"O-M1RHTJHJZGKX"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"organisation"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{number}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.636204Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ACCESS_TOKEN}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of orders.</p>
<h3 id='http-request-35'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/v3/dispatcher/orders</code></p>
<h3 id='headers-34'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-24'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>status</td>
<td>An array of status for order, ie: [initial, processing, paid, complete, cancelled]</td>
<td>optional</td>
</tr>
<tr>
<td>from</td>
<td>From timestamp</td>
<td>optional</td>
</tr>
<tr>
<td>to</td>
<td>To timestamp</td>
<td>optional</td>
</tr>
<tr>
<td>name</td>
<td>Worker name</td>
<td>optional</td>
</tr>
<tr>
<td>sender_id</td>
<td>Sender ID</td>
<td>optional</td>
</tr>
<tr>
<td>order</td>
<td>Asc/Desc</td>
<td>optional</td>
</tr>
</tbody></table>
<h2 id='update-a-task'>Update a task</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{task_group_id}/tasks/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_task_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proof"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup_completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-10T03:37:08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a task.</p>
<h3 id='http-request-36'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{task_group_id}/tasks/{id}</code></p>
<h3 id='headers-35'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-25'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Task ID</td>
</tr>
<tr>
<td>task_group_id</td>
<td>Task group ID</td>
</tr>
</tbody></table>
<h2 id='delete-a-taskexception-associated-with-a-task'>Delete a TaskException associated with a task</h2><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{task_group_id}/task/{id}/delete_task_exception'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes a TaskException associated with a task.</p>
<h3 id='http-request-37'>HTTP Request</h3>
<p><code>DELETE https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{task_group_id}/task/{id}/delete_task_exception</code></p>
<h3 id='headers-36'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-26'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Task ID</td>
</tr>
<tr>
<td>task_group_id</td>
<td>Task group ID</td>
</tr>
</tbody></table>
<h2 id='marks-a-task-as-failed-by-creating-an-associated-task-exception'>Marks a task as failed by creating an associated task exception</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{task_group_id}/task/{id}/mark_as_failed'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'description: {{description}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint marks a task as failed by creating an associated task exception.</p>
<h3 id='http-request-38'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{task_group_id}/task/{id}/mark_as_failed</code></p>
<h3 id='headers-37'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-14'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>{{description}}</td>
<td>String</td>
</tr>
</tbody></table>
<h3 id='parameters-27'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Task ID</td>
</tr>
<tr>
<td>task_group_id</td>
<td>Task group ID</td>
</tr>
</tbody></table>
<h2 id='marks-a-task-as-completed-by-the-dispatcher'>Marks a task as completed by the dispatcher</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{task_group_id}/task/{id}/complete'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint marks a task as completed by the dispatcher.</p>
<h3 id='http-request-39'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{task_group_id}/task/{id}/complete</code></p>
<h3 id='headers-38'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-28'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Task ID</td>
</tr>
<tr>
<td>task_group_id</td>
<td>Task group ID</td>
</tr>
</tbody></table>
<h2 id='show-a-task-group'>Show a task group</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"allocation_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"associated_task_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broadcast_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"calculated_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34847</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estimation_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19171"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unassigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"{{order_item_step}}"</span><span class="w"> </span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_step"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{order_step}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a task group.</p>
<h3 id='http-request-40'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{id}</code></p>
<h3 id='headers-39'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-29'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>task_group_id</td>
<td>Task group ID</td>
</tr>
</tbody></table>
<h2 id='assign-multiple-task-groups-to-worker'>Assign multiple task groups to worker</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/assign_multiple'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"allocation_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"associated_task_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broadcast_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"calculated_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34847</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estimation_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19171"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unassigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"{{order_item_step}}"</span><span class="w"> </span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_step"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{order_step}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint assigns multiple task groups to worker.</p>
<h3 id='http-request-41'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/assign_multiple</code></p>
<h3 id='headers-40'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-30'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>An array of task_group_id for task group</td>
<td>optional</td>
</tr>
<tr>
<td>worker_id</td>
<td>Worker ID</td>
<td>optional</td>
</tr>
</tbody></table>
<h2 id='get-detailed-items-about-a-step-in-task-group'>Get detailed items about a step in task group</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{id}/step_items/{step_id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"allocation_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"associated_task_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broadcast_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"calculated_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34847</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estimation_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19171"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unassigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"{{order_item_step}}"</span><span class="w"> </span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_step"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{order_step}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves detailed items about a step in task group.</p>
<h3 id='http-request-42'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{id}/step_items/{step_id}</code></p>
<h3 id='headers-41'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-31'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>Pickup/Dropoff</td>
</tr>
<tr>
<td>id</td>
<td>Task group ID</td>
</tr>
<tr>
<td>step_id</td>
<td>Step ID</td>
</tr>
</tbody></table>
<h2 id='get-assigned-task-groups'>Get assigned task groups</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/assigned'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"allocation_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"associated_task_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broadcast_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"calculated_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34847</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estimation_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19171"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unassigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"{{order_item_step}}"</span><span class="w"> </span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_step"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{order_step}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves assigned task groups.</p>
<h3 id='http-request-43'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/assigned</code></p>
<h3 id='headers-42'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-32'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>status</td>
<td>An array of status for order, ie: [initial, processing, paid, complete, cancelled]</td>
<td>Assigned</td>
</tr>
<tr>
<td>worker_type</td>
<td>Worker contract type (employee/freelancer)</td>
<td>optional</td>
</tr>
<tr>
<td>current_vehicle_type_id</td>
<td>Worker vehicle type id</td>
<td>optional</td>
</tr>
<tr>
<td>task_group_ids</td>
<td>An array of task_group_id for task group</td>
<td>optional</td>
</tr>
<tr>
<td>from</td>
<td>From timestamp</td>
<td>optional</td>
</tr>
<tr>
<td>to</td>
<td>To timestamp</td>
<td>optional</td>
</tr>
</tbody></table>
<h2 id='unassign-a-worker-from-a-task-group'>Unassign a worker from a task group</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{id}/unassign_worker'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"allocation_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"associated_task_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broadcast_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"calculated_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34847</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estimation_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19171"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unassigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"{{order_item_step}}"</span><span class="w"> </span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_step"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{order_step}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint unassigns a worker from a task group.</p>
<h3 id='http-request-44'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{id}/unassign_worker</code></p>
<h3 id='headers-43'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-33'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Task group ID</td>
</tr>
</tbody></table>
<h2 id='add-the-dispatcher-to-a-group-chat'>Add the dispatcher to a group chat</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{id}/join_chat'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"allocation_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"associated_task_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broadcast_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"calculated_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34847</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estimation_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19171"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unassigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"{{order_item_step}}"</span><span class="w"> </span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_step"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{order_step}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds the dispatcher to a group chat.</p>
<h3 id='http-request-45'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{id}/join_chat</code></p>
<h3 id='headers-44'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-34'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Task group ID</td>
</tr>
</tbody></table>
<h2 id='show-list-of-task_groups-which-is-accepted-by-a-worker'>Show list of task_groups which is accepted by a worker</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/accepted'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"allocation_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"associated_task_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broadcast_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"calculated_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34847</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estimation_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19171"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unassigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"{{order_item_step}}"</span><span class="w"> </span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_step"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{order_step}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of task_groups which is accepted by a worker.</p>
<h3 id='http-request-46'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/accepted</code></p>
<h3 id='headers-45'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-35'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>worker_id</td>
<td>Worker ID</td>
</tr>
</tbody></table>
<h2 id='assign-worker-to-a-task-group'>Assign worker to a task group</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{id}/assign_worker'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"allocation_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"associated_task_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broadcast_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"calculated_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34847</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estimation_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19171"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unassigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"{{order_item_step}}"</span><span class="w"> </span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_step"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{order_step}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint assigns worker to a task group.</p>
<h3 id='http-request-47'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/{id}/assign_worker</code></p>
<h3 id='headers-46'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-36'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>worker_id</td>
<td>Worker ID</td>
</tr>
<tr>
<td>id</td>
<td>Task group ID</td>
</tr>
</tbody></table>
<h2 id='groups-unassigned-tasks'>Groups unassigned tasks</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/regroup'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"allocation_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"assigned_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"associated_task_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auto_accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broadcast_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"calculated_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">34847</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"estimation_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19171"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unassigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"{{order_item_step}}"</span><span class="w"> </span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_step"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{{order_step}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-21 16:23:59.052429"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"worker_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nil"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint groups unassigned tasks.</p>
<h3 id='http-request-48'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/task_groups/regroup</code></p>
<h3 id='headers-47'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-37'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order</td>
<td>Group by Order</td>
</tr>
<tr>
<td>pickup</td>
<td>Group by Pickup</td>
</tr>
<tr>
<td>dropoff</td>
<td>Group by Dropoff</td>
</tr>
</tbody></table>
<h2 id='creates-a-taskexceptionreason'>Creates a TaskExceptionReason</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_exception_reasons'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'description: {{description}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sender not available"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a TaskExceptionReason.</p>
<h3 id='http-request-49'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/task_exception_reasons</code></p>
<h3 id='headers-48'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-15'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>{{description}}</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='get-all-task-exception-reasons-for-a-specific-company'>Get all task exception reasons for a specific company</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_exception_reasons'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sender not available"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all task exception reasons for a specific company.</p>
<h3 id='http-request-50'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/task_exception_reasons</code></p>
<h3 id='headers-49'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h2 id='deletes-a-taskexceptionreason'>Deletes a TaskExceptionReason</h2><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/task_exception_reasons/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sender not available"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes a TaskExceptionReason.</p>
<h3 id='http-request-51'>HTTP Request</h3>
<p><code>DELETE https://umbrella-demo.yojee.com/api/v3/dispatcher/task_exception_reasons/{id}</code></p>
<h3 id='headers-50'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-38'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Task exception reason ID</td>
</tr>
</tbody></table>
<h2 id='get-vehicle-types-which-are-available-for-current-company'>Get vehicle types which are available for current company</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/vehicle_types'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pedestrian"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bicycle"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves vehicle types which are available for current company.</p>
<h3 id='http-request-52'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/vehicle_types</code></p>
<h3 id='headers-51'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h2 id='get-company-info'>Get company info</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/company'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"delivery_options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"time_window"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
          </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"dropoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
          </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"pickup_allowance"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"max_weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="s2">"advance_bookings"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"organisation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"pickup_completed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropoff_completed"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"upload_photo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"upload_signature"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves company info.</p>
<h3 id='http-request-53'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/company</code></p>
<h3 id='headers-52'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h2 id='get-transportation-companies-which-works-for-current-company'>Get transportation companies which works for current company</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/transportation_companies'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
  </span><span class="s2">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20600078098"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Katie Solis"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contact_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ksolis@smk.com.pe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves transportation companies which works for current company.</p>
<h3 id='http-request-54'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/transportation_companies</code></p>
<h3 id='headers-53'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h2 id='upload-company-assets'>Upload company assets</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/company/assets'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -F <span class="s1">'file: {{file}}'</span> <span class="se">\</span>
  -F <span class="s1">'file_type: {{file_type}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.us-east-1.amazonaws.com/test/uploads/companies/334/334_logo.png"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint uploads company assets.</p>
<h3 id='http-request-55'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/company/assetss</code></p>
<h3 id='headers-54'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-39'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>The file to upload</td>
</tr>
<tr>
<td>file_type</td>
<td>The file type</td>
</tr>
</tbody></table>
<h2 id='upload-company-settings'>Upload company settings</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/company/settings'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'settings: {{settings}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"delivery_options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"time_window"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
          </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"dropoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
          </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"pickup_allowance"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"max_weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="s2">"advance_bookings"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"organisation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"pickup_completed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropoff_completed"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"upload_photo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"upload_signature"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint uploads company settings.</p>
<h3 id='http-request-56'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/company/settings</code></p>
<h3 id='headers-55'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-16'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>settings</td>
<td>{{delivery_options}} : {{time_window}} : {{pickup}}</td>
<td>Timestamp</td>
</tr>
<tr>
<td></td>
<td>{{delivery_options}} : {{time_window}} : {{dropoff}}</td>
<td>Timestamp</td>
</tr>
<tr>
<td></td>
<td>{{pickup_allowance}}</td>
<td>Integer</td>
</tr>
<tr>
<td></td>
<td>{{max_weight}}</td>
<td>Integer</td>
</tr>
<tr>
<td></td>
<td>{{advance_bookings}}</td>
<td>Integer</td>
</tr>
</tbody></table>
<h2 id='creates-a-region'>Creates a Region</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'tag: {{tag}}'</span> <span class="se">\</span>
  -d <span class="s1">'description: {{description}}'</span> <span class="se">\</span>
  -d <span class="s1">'coordinates: {{coordinates}}'</span> <span class="se">\</span>
  -d <span class="s1">'color: {{color}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poly5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.646174Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Region"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a Region.</p>
<h3 id='http-request-57'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions</code></p>
<h3 id='headers-56'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-17'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>tag</td>
<td>{{tag}}</td>
<td>String</td>
</tr>
<tr>
<td>description</td>
<td>{{description}}</td>
<td>String</td>
</tr>
<tr>
<td>coordinates</td>
<td>{{lng}}</td>
<td>Number</td>
</tr>
<tr>
<td></td>
<td>{{lat}}</td>
<td>Number</td>
</tr>
<tr>
<td>color</td>
<td>{{color}}</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='get-all-regions'>Get all regions</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poly5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.646174Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Region"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint gets all regions.</p>
<h3 id='http-request-58'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions</code></p>
<h3 id='headers-57'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h2 id='updates-a-region'>Updates a Region</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'tag: {{tag}}'</span> <span class="se">\</span>
  -d <span class="s1">'description: {{description}}'</span> <span class="se">\</span>
  -d <span class="s1">'coordinates: {{coordinates}}'</span> <span class="se">\</span>
  -d <span class="s1">'color: {{color}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poly5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.646174Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Region"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a Region.</p>
<h3 id='http-request-59'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions/{id}</code></p>
<h3 id='headers-58'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-18'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>tag</td>
<td>{{tag}}</td>
<td>String</td>
</tr>
<tr>
<td>description</td>
<td>{{description}}</td>
<td>String</td>
</tr>
<tr>
<td>coordinates</td>
<td>{{lng}}</td>
<td>Number</td>
</tr>
<tr>
<td></td>
<td>{{lat}}</td>
<td>Number</td>
</tr>
<tr>
<td>color</td>
<td>{{color}}</td>
<td>String</td>
</tr>
</tbody></table>
<h3 id='parameters-40'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Region ID</td>
</tr>
</tbody></table>
<h2 id='updates-a-region-2'>Updates a Region</h2><pre class="highlight shell tab-shell"><code>curl -X PATCH <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'tag: {{tag}}'</span> <span class="se">\</span>
  -d <span class="s1">'description: {{description}}'</span> <span class="se">\</span>
  -d <span class="s1">'coordinates: {{coordinates}}'</span> <span class="se">\</span>
  -d <span class="s1">'color: {{color}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poly5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.646174Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Region"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a Region.</p>
<h3 id='http-request-60'>HTTP Request</h3>
<p><code>PATCH https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions/{id}</code></p>
<h3 id='headers-59'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-19'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>tag</td>
<td>{{tag}}</td>
<td>String</td>
</tr>
<tr>
<td>description</td>
<td>{{description}}</td>
<td>String</td>
</tr>
<tr>
<td>coordinates</td>
<td>{{lng}}</td>
<td>Number</td>
</tr>
<tr>
<td></td>
<td>{{lat}}</td>
<td>Number</td>
</tr>
<tr>
<td>color</td>
<td>{{color}}</td>
<td>String</td>
</tr>
</tbody></table>
<h3 id='parameters-41'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Region ID</td>
</tr>
</tbody></table>
<h2 id='get-all-regions-2'>Get all regions</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poly5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.646174Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Region"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint gets all regions.</p>
<h3 id='http-request-61'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions/{id}</code></p>
<h3 id='headers-60'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-42'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Region ID</td>
</tr>
</tbody></table>
<h2 id='delete-all-regions'>Delete all regions</h2><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poly5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:05:11.646174Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Region"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes all regions.</p>
<h3 id='http-request-62'>HTTP Request</h3>
<p><code>DELETE https://umbrella-demo.yojee.com/api/v3/dispatcher/network/regions/{id}</code></p>
<h3 id='headers-61'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-43'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Region ID</td>
</tr>
</tbody></table>
<h2 id='creates-a-spoke'>Creates a Spoke</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'properties: {{properties}}'</span> <span class="se">\</span>
  -d <span class="s1">'pessimistic_estimated_duration: {{pessimistic_estimated_duration}}'</span> <span class="se">\</span>
  -d <span class="s1">'origin_hub_id: {{origin_hub_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'optimistic_estimated_duration: {{optimistic_estimated_duration}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'modality: {{modality}}'</span> <span class="se">\</span>
  -d <span class="s1">'destination_hub_id: {{destination_hub_id}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"pessimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"optimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spoker"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"modality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"road"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.208315Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a Spoke.</p>
<h3 id='http-request-63'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes</code></p>
<h3 id='headers-62'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-20'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>properties</td>
<td>{{properties}}</td>
<td>String</td>
</tr>
<tr>
<td>pessimistic_estimated_duration</td>
<td>{{pessimistic_estimated_duration}}</td>
<td>Integer</td>
</tr>
<tr>
<td>origin_hub_id</td>
<td>{{origin_hub_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>optimistic_estimated_duration</td>
<td>{{optimistic_estimated_duration}}</td>
<td>Integer</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>modality</td>
<td>{{modality}}</td>
<td>String</td>
</tr>
<tr>
<td>destination_hub_id</td>
<td>{{destination_hub_id}}</td>
<td>Integer</td>
</tr>
</tbody></table>
<h2 id='get-all-spokes'>Get all spokes</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"pessimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"optimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spoker"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"modality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"road"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.208315Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint gets all spokes.</p>
<h3 id='http-request-64'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes</code></p>
<h3 id='headers-63'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h2 id='updates-a-spoke'>Updates a Spoke</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'properties: {{properties}}'</span> <span class="se">\</span>
  -d <span class="s1">'pessimistic_estimated_duration: {{pessimistic_estimated_duration}}'</span> <span class="se">\</span>
  -d <span class="s1">'origin_hub_id: {{origin_hub_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'optimistic_estimated_duration: {{optimistic_estimated_duration}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'modality: {{modality}}'</span> <span class="se">\</span>
  -d <span class="s1">'destination_hub_id: {{destination_hub_id}}'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"pessimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"optimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spoker"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"modality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"road"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.208315Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a Spoke.</p>
<h3 id='http-request-65'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes/{id}</code></p>
<h3 id='headers-64'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-21'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>properties</td>
<td>{{properties}}</td>
<td>String</td>
</tr>
<tr>
<td>pessimistic_estimated_duration</td>
<td>{{pessimistic_estimated_duration}}</td>
<td>Integer</td>
</tr>
<tr>
<td>origin_hub_id</td>
<td>{{origin_hub_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>optimistic_estimated_duration</td>
<td>{{optimistic_estimated_duration}}</td>
<td>Integer</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>modality</td>
<td>{{modality}}</td>
<td>String</td>
</tr>
<tr>
<td>destination_hub_id</td>
<td>{{destination_hub_id}}</td>
<td>Integer</td>
</tr>
</tbody></table>
<h3 id='parameters-44'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Spoke ID</td>
</tr>
</tbody></table>
<h2 id='updates-a-spoke-2'>Updates a Spoke</h2><pre class="highlight shell tab-shell"><code>curl -X PATCH <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'properties: {{properties}}'</span> <span class="se">\</span>
  -d <span class="s1">'pessimistic_estimated_duration: {{pessimistic_estimated_duration}}'</span> <span class="se">\</span>
  -d <span class="s1">'origin_hub_id: {{origin_hub_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'optimistic_estimated_duration: {{optimistic_estimated_duration}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'modality: {{modality}}'</span> <span class="se">\</span>
  -d <span class="s1">'destination_hub_id: {{destination_hub_id}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"pessimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"optimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spoker"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"modality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"road"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.208315Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a Spoke.</p>
<h3 id='http-request-66'>HTTP Request</h3>
<p><code>PATCH https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes/{id}</code></p>
<h3 id='headers-65'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-22'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>properties</td>
<td>{{properties}}</td>
<td>String</td>
</tr>
<tr>
<td>pessimistic_estimated_duration</td>
<td>{{pessimistic_estimated_duration}}</td>
<td>Integer</td>
</tr>
<tr>
<td>origin_hub_id</td>
<td>{{origin_hub_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>optimistic_estimated_duration</td>
<td>{{optimistic_estimated_duration}}</td>
<td>Integer</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>modality</td>
<td>{{modality}}</td>
<td>String</td>
</tr>
<tr>
<td>destination_hub_id</td>
<td>{{destination_hub_id}}</td>
<td>Integer</td>
</tr>
</tbody></table>
<h3 id='parameters-45'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Spoke ID</td>
</tr>
</tbody></table>
<h2 id='get-all-spokes-2'>Get all spokes</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"pessimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"optimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spoker"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"modality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"road"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.208315Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint gets all spokes.</p>
<h3 id='http-request-67'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes/{id}</code></p>
<h3 id='headers-66'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-46'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Spoke ID</td>
</tr>
</tbody></table>
<h2 id='delete-all-spokes'>Delete all spokes</h2><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"pessimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"origin_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"optimistic_estimated_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spoker"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"modality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"road"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.208315Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"destination_hub_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes all spokes.</p>
<h3 id='http-request-68'>HTTP Request</h3>
<p><code>DELETE https://umbrella-demo.yojee.com/api/v3/dispatcher/network/spokes/{id}</code></p>
<h3 id='headers-67'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-47'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Spoke ID</td>
</tr>
</tbody></table>
<h2 id='creates-a-hub'>Creates a Hub</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'regions: {{regions}}'</span> <span class="se">\</span>
  -d <span class="s1">'properties: {{properties}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'location: {{location}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"regions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"poly5"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Hub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">122.6428429677108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">65.67691234535297</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.207612Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a Hub.</p>
<h3 id='http-request-69'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs</code></p>
<h3 id='headers-68'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-23'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>regions</td>
<td>{{regions}}</td>
<td>String</td>
</tr>
<tr>
<td>properties</td>
<td>{{description}}</td>
<td>String</td>
</tr>
<tr>
<td>{{address}}</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>location</td>
<td>{{lng}}</td>
<td>Number</td>
</tr>
<tr>
<td>{{lat}}</td>
<td>Number</td>
<td></td>
</tr>
</tbody></table>
<h2 id='updates-a-hub'>Updates a Hub</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'regions: {{regions}}'</span> <span class="se">\</span>
  -d <span class="s1">'properties: {{properties}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'location: {{location}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"regions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"poly5"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Hub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">122.6428429677108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">65.67691234535297</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.207612Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a Hub.</p>
<h3 id='http-request-70'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs/{id}</code></p>
<h3 id='headers-69'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-24'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>regions</td>
<td>{{regions}}</td>
<td>String</td>
</tr>
<tr>
<td>properties</td>
<td>{{description}}</td>
<td>String</td>
</tr>
<tr>
<td></td>
<td>{{address}}</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>location</td>
<td>{{lng}}</td>
<td>Number</td>
</tr>
<tr>
<td></td>
<td>{{lat}}</td>
<td>Number</td>
</tr>
</tbody></table>
<h3 id='parameters-48'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Hub ID</td>
</tr>
</tbody></table>
<h2 id='get-all-hubs'>Get all hubs</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"regions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"poly5"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Hub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">122.6428429677108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">65.67691234535297</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.207612Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint gets all hubs.</p>
<h3 id='http-request-71'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs</code></p>
<h3 id='headers-70'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h2 id='updates-a-hub-2'>Updates a Hub</h2><pre class="highlight shell tab-shell"><code>curl -X PATCH <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'regions: {{regions}}'</span> <span class="se">\</span>
  -d <span class="s1">'properties: {{properties}}'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'location: {{location}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"regions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"poly5"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Hub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">122.6428429677108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">65.67691234535297</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.207612Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a Hub.</p>
<h3 id='http-request-72'>HTTP Request</h3>
<p><code>PATCH https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs/{id}</code></p>
<h3 id='headers-71'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-25'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>regions</td>
<td>{{regions}}</td>
<td>String</td>
</tr>
<tr>
<td>properties</td>
<td>{{description}}</td>
<td>String</td>
</tr>
<tr>
<td></td>
<td>{{address}}</td>
<td>String</td>
</tr>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>location</td>
<td>{{lng}}</td>
<td>Number</td>
</tr>
<tr>
<td></td>
<td>{{lat}}</td>
<td>Number</td>
</tr>
</tbody></table>
<h3 id='parameters-49'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Hub ID</td>
</tr>
</tbody></table>
<h2 id='get-all-hubs-2'>Get all hubs</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"regions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"poly5"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Hub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">122.6428429677108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">65.67691234535297</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.207612Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint gets all hubs.</p>
<h3 id='http-request-73'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs/{id}</code></p>
<h3 id='headers-72'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-50'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Hub ID</td>
</tr>
</tbody></table>
<h2 id='delete-all-hubs'>Delete all hubs</h2><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"regions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"poly5"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Singapore"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Hub"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">122.6428429677108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">65.67691234535297</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.207612Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes all hubs.</p>
<h3 id='http-request-74'>HTTP Request</h3>
<p><code>DELETE https://umbrella-demo.yojee.com/api/v3/dispatcher/network/hubs/{id}</code></p>
<h3 id='headers-73'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-51'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Hub ID</td>
</tr>
</tbody></table>
<h2 id='search-for-a-sender'>Search for a sender</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/search/sender'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vehicle_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Car"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"sender_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"organisation"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+65 3138 9076"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yojee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yojee@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Road, Singapore"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint searches for a sender.</p>
<h3 id='http-request-75'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/search/sender</code></p>
<h3 id='headers-74'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-52'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>Search query</td>
</tr>
</tbody></table>
<h2 id='search-for-a-worker'>Search for a worker</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/search/worker'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vehicles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Truck"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boat"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_duty"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+849032230423"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@yojee.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"device_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{DEVICE_TOKEN}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"current_vehicle_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"avatar.jpg"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint searches for a worker.</p>
<h3 id='http-request-76'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/search/worker</code></p>
<h3 id='headers-75'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-53'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>Search query</td>
</tr>
</tbody></table>
<h2 id='search-for-an-order'>Search for an order</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/search/order'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"O-ABCDEFGHIJKL"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD 10"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"placed_by_user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABc1DEF1ekRsa3JaKzRYUGFkMUhXQT09"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01T00:00:00.000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint searches for an order.</p>
<h3 id='http-request-77'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/search/order</code></p>
<h3 id='headers-76'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-54'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>Search query</td>
</tr>
</tbody></table>
<h2 id='search-for-an-order-item'>Search for an order item</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/search/order_item'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yoyoyoyo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"to_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Airport Blvd, Changi Airport Singapore (SIN), Singapore"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"service_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"same_day"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6590050680"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"champ"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipient_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6598765432"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipient_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order_number"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"item_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Road, Level 15, Singapore 068908"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gifts"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-08T14:58:24.280533"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint searches for an order item.</p>
<h3 id='http-request-78'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/search/order_item</code></p>
<h3 id='headers-77'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-55'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>Search query</td>
</tr>
</tbody></table>
<h2 id='search-for-a-task'>Search for a task</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/search/task'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_task_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proof"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup_completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-10T03:37:08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint searches for a task.</p>
<h3 id='http-request-79'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/search/task</code></p>
<h3 id='headers-78'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-56'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>Search query</td>
</tr>
</tbody></table>
<h2 id='list-failed-task'>List failed task</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}/tasks/failed'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_task_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proof"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup_failed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-10T03:37:08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of failed task.</p>
<h3 id='http-request-80'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}/tasks/failed</code></p>
<h3 id='headers-79'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-57'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>id</td>
<td>Worker ID</td>
<td>-</td>
</tr>
</tbody></table>
<h2 id='list-assigned-task'>List assigned task</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}/tasks/assigned'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_task_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proof"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-10T03:37:08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of assigned task.</p>
<h3 id='http-request-81'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}/tasks/assigned</code></p>
<h3 id='headers-80'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-58'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>id</td>
<td>Worker ID</td>
<td>-</td>
</tr>
</tbody></table>
<h2 id='list-completed-task'>List completed task</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}/tasks/completed'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_task_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proof"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delivered"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-10T03:37:08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of completed task.</p>
<h3 id='http-request-82'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/api/v3/dispatcher/workers/{id}/tasks/completed</code></p>
<h3 id='headers-81'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-59'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>id</td>
<td>Worker ID</td>
<td>-</td>
</tr>
</tbody></table>
<h2 id='list-order-items'>List order items</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/order_items'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yoyoyoyo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"to_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Airport Blvd, Changi Airport Singapore (SIN), Singapore"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"service_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"same_day"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6590050680"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"champ"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipient_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+6598765432"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receipient_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order_number"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"item_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Road, Level 15, Singapore 068908"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gifts"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-08T14:58:24.280533"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of order items.</p>
<h3 id='http-request-83'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/order_items</code></p>
<h3 id='headers-82'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-60'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
<tr>
<td>status</td>
<td>Status of the order item</td>
<td>optional</td>
</tr>
<tr>
<td>service_type</td>
<td>Service type of the order item</td>
<td>optional</td>
</tr>
<tr>
<td>order_id</td>
<td>Order ID</td>
<td>optional</td>
</tr>
<tr>
<td>from</td>
<td>From timestamp</td>
<td>optional</td>
</tr>
<tr>
<td>to</td>
<td>To timestamp</td>
<td>optional</td>
</tr>
</tbody></table>
<h2 id='show-detail-of-an-order-item'>Show detail of an order item</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/order_items/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"progress_session"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"started"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dropoff"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detail of an order_item"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"item_session"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"service_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"same_day"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD 4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"worker_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8469331112302"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"worker_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Khoa Worker"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Rd, Singapore 068908"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"payload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Package"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_reference_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N3hqZHZrN2dUYUs0dmVJUUZpeUVpQT09"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"worker_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8469331112302"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"worker_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Khoa Worker"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boon Keng Rd, Singapore"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gift"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"can_edit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"delivery_trial"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dropoff"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-22T07:52:30.181011"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Task created"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-22T07:52:30.178729"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Task created"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of order items.</p>
<h3 id='http-request-84'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/order_items/{id}</code></p>
<h3 id='headers-83'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-61'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>delivery_trial_sort</td>
<td>Asc/Desc</td>
</tr>
<tr>
<td>id</td>
<td>Order item ID</td>
</tr>
</tbody></table>
<h2 id='update-an-order-item'>Update an order item</h2><pre class="highlight shell tab-shell"><code>curl -X PATCH <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/order_items/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'payload_type: {{payload_type}}'</span> <span class="se">\</span>
  -d <span class="s1">'description: {{description}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"progress_session"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"started"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dropoff"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detail of an order_item"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"item_session"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"service_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"same_day"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD 4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"worker_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8469331112302"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"worker_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Khoa Worker"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Rd, Singapore 068908"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"payload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Package"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_reference_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N3hqZHZrN2dUYUs0dmVJUUZpeUVpQT09"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"worker_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8469331112302"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"worker_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Khoa Worker"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boon Keng Rd, Singapore"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gift"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"can_edit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"delivery_trial"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dropoff"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-22T07:52:30.181011"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Task created"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-22T07:52:30.178729"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Task created"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates an order item.</p>
<h3 id='http-request-85'>HTTP Request</h3>
<p><code>PATCH https://umbrella-demo.yojee.com/v3/api/dispatcher/order_items/{id}</code></p>
<h3 id='headers-84'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-26'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>payload_type</td>
<td>{{payload_type}}</td>
<td>String</td>
</tr>
<tr>
<td>description</td>
<td>{{description}}</td>
<td>String</td>
</tr>
</tbody></table>
<h3 id='parameters-62'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Order item ID</td>
</tr>
</tbody></table>
<h2 id='update-an-order-item-2'>Update an order item</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/order_items/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'payload_type: {{payload_type}}'</span> <span class="se">\</span>
  -d <span class="s1">'description: {{description}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"progress_session"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"started"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dropoff"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detail of an order_item"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"item_session"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="s2">"service_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"same_day"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD 4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pickup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"worker_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8469331112302"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"worker_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Khoa Worker"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144 Robinson Rd, Singapore 068908"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"payload_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Package"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_reference_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N3hqZHZrN2dUYUs0dmVJUUZpeUVpQT09"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dropoff"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"worker_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+8469331112302"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"worker_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Khoa Worker"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boon Keng Rd, Singapore"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gift"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"can_edit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"delivery_trial"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dropoff"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-22T07:52:30.181011"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Task created"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"logs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-22T07:52:30.178729"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Task created"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates an order item.</p>
<h3 id='http-request-86'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/v3/api/dispatcher/order_items/{id}</code></p>
<h3 id='headers-85'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-27'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>payload_type</td>
<td>{{payload_type}}</td>
<td>String</td>
</tr>
<tr>
<td>description</td>
<td>{{description}}</td>
<td>String</td>
</tr>
</tbody></table>
<h3 id='parameters-63'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Order item ID</td>
</tr>
</tbody></table>
<h2 id='list-sub-tasks'>List sub tasks</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/order_items/{order_item_id}/sub_tasks'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_task_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proof"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup_completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-10T03:37:08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">136</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of sub tasks.</p>
<h3 id='http-request-87'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/order_items/{order_item_id}/sub_tasks</code></p>
<h3 id='headers-86'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-64'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order_item_id</td>
<td>Order item ID</td>
</tr>
</tbody></table>
<h2 id='get-a-sub-task'>Get a sub task</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/order_items/{order_item_id}/sub_tasks/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub_task_rule_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Proof"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup_completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"completion_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-10T03:37:08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">136</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a sub task.</p>
<h3 id='http-request-88'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/order_items/{order_item_id}/sub_tasks/{id}</code></p>
<h3 id='headers-87'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-65'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Sub task ID</td>
</tr>
<tr>
<td>order_item_id</td>
<td>Order item ID</td>
</tr>
</tbody></table>
<h2 id='list-sub-task-rules'>List sub task rules</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/sub_task_rules'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature of client"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup_completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of sub task rules.</p>
<h3 id='http-request-89'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/sub_task_rules</code></p>
<h3 id='headers-88'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-66'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Page number</td>
<td>1</td>
</tr>
<tr>
<td>page_size</td>
<td>Page size</td>
<td>10</td>
</tr>
</tbody></table>
<h2 id='create-a-sub-task-rule'>Create a sub task rule</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/sub_task_rules'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'photo_type: {{photo_type}}'</span> <span class="se">\</span>
  -d <span class="s1">'photo_title: {{photo_title}}'</span> <span class="se">\</span>
  -d <span class="s1">'event: {{event}}'</span> <span class="se">\</span>
  -d <span class="s1">'company_id: {{company_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'action: {{action}}'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature of client"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup_completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a sub task rule.</p>
<h3 id='http-request-90'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/v3/api/dispatcher/sub_task_rules</code></p>
<h3 id='headers-89'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-28'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>photo_type</td>
<td>{{photo_type}}</td>
<td>String</td>
</tr>
<tr>
<td>photo_title</td>
<td>{{photo_title}}</td>
<td>String</td>
</tr>
<tr>
<td>event</td>
<td>{{event}}</td>
<td>String</td>
</tr>
<tr>
<td>company_id</td>
<td>{{company_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>action</td>
<td>{{action}}</td>
<td>String</td>
</tr>
</tbody></table>
<h2 id='get-a-sub-task-rule'>Get a sub task rule</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/sub_task_rules/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature of client"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup_completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a sub task rule.</p>
<h3 id='http-request-91'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/sub_task_rules/{id}</code></p>
<h3 id='headers-90'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-67'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Sub task rule ID</td>
</tr>
</tbody></table>
<h2 id='update-a-sub-task-rule'>Update a sub task rule</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/sub_task_rules/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'photo_type: {{photo_type}}'</span> <span class="se">\</span>
  -d <span class="s1">'photo_title: {{photo_title}}'</span> <span class="se">\</span>
  -d <span class="s1">'event: {{event}}'</span> <span class="se">\</span>
  -d <span class="s1">'company_id: {{company_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'action: {{action}}'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"photo_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature of client"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pickup_completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload_photo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a sub task rule.</p>
<h3 id='http-request-92'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/v3/api/dispatcher/sub_task_rules/{id}</code></p>
<h3 id='headers-91'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-29'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>photo_type</td>
<td>{{photo_type}}</td>
<td>String</td>
</tr>
<tr>
<td>photo_title</td>
<td>{{photo_title}}</td>
<td>String</td>
</tr>
<tr>
<td>event</td>
<td>{{event}}</td>
<td>String</td>
</tr>
<tr>
<td>company_id</td>
<td>{{company_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>action</td>
<td>{{action}}</td>
<td>String</td>
</tr>
</tbody></table>
<h3 id='parameters-68'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Sub task rule ID</td>
</tr>
</tbody></table>
<h2 id='delete-a-sub-task-rule'>Delete a sub task rule</h2><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/sub_task_rules/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes a sub task rule.</p>
<h3 id='http-request-93'>HTTP Request</h3>
<p><code>DELETE https://umbrella-demo.yojee.com/v3/api/dispatcher/sub_task_rules/{id}</code></p>
<h3 id='headers-92'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-69'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Sub task rule ID</td>
</tr>
</tbody></table>
<h2 id='get-order-detail-of-batch'>Get order detail of batch</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/order_items/batches/get_order'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"O-ABCDEFGHIJKL"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGD 10"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"placed_by_user_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{NUMBER}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01T00:00:00.000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves order detail of batch.</p>
<h3 id='http-request-94'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/batches/get_order</code></p>
<h3 id='headers-93'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-70'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>batch_id</td>
<td>Batch ID</td>
</tr>
</tbody></table>
<h2 id='get-batch-status'>Get batch status</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/order_items/batches/check_status'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{BATCH_ID}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{COMPANY_ID}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{STATUS}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{TRACKING_NUMBER}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"uploader_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{UPLOADER_ID}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{FILE}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves batch status.</p>
<h3 id='http-request-95'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/batches/check_status</code></p>
<h3 id='headers-94'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-71'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>batch_id</td>
<td>Batch ID</td>
</tr>
</tbody></table>
<h2 id='upload-a-file'>Upload a file</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/batches'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -F <span class="s1">'file : {{FILE}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{BATCH_ID}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{COMPANY_ID}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{STATUS}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tracking_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{TRACKING_NUMBER}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"uploader_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{UPLOADER_ID}}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{FILE}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves batch status.</p>
<h3 id='http-request-96'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/v3/api/dispatcher/batches</code></p>
<h3 id='headers-95'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='parameters-72'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>File to be uploaded</td>
</tr>
<tr>
<td>uploader_id</td>
<td>Uploader ID</td>
</tr>
<tr>
<td>company_id</td>
<td>Company ID</td>
</tr>
</tbody></table>
<h2 id='create-a-role'>Create a role</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/roles'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'company_id: {{company_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'access_map: {{access_map}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role_1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.206135Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_map"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"sender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"add"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a role.</p>
<h3 id='http-request-97'>HTTP Request</h3>
<p><code>POST https://umbrella-demo.yojee.com/v3/api/dispatcher/roles</code></p>
<h3 id='headers-96'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-30'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>company_id</td>
<td>{{company_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>access_map</td>
<td>{{access_map}}</td>
<td>Array</td>
</tr>
</tbody></table>
<h2 id='list-roles'>List roles</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/roles'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role_1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.206135Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_map"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"sender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"add"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a list of roles.</p>
<h3 id='http-request-98'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/roles</code></p>
<h3 id='headers-97'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h2 id='update-a-role'>Update a role</h2><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/roles/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'company_id: {{company_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'access_map: {{access_map}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role_1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.206135Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_map"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"sender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"add"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a role.</p>
<h3 id='http-request-99'>HTTP Request</h3>
<p><code>PUT https://umbrella-demo.yojee.com/v3/api/dispatcher/roles/{id}</code></p>
<h3 id='headers-98'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-31'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>company_id</td>
<td>{{company_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>access_map</td>
<td>{{access_map}}</td>
<td>Array</td>
</tr>
</tbody></table>
<h3 id='parameters-73'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Role ID</td>
</tr>
</tbody></table>
<h2 id='update-a-role-2'>Update a role</h2><pre class="highlight shell tab-shell"><code>curl -X PATCH <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/roles/{id}'</span> <span class="se">\</span>
  -H <span class="s1">'ACCESS_TOKEN: {{ACCESS_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'COMPANY_SLUG: {{COMPANY_SLUG}}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'name: {{name}}'</span> <span class="se">\</span>
  -d <span class="s1">'company_id: {{company_id}}'</span> <span class="se">\</span>
  -d <span class="s1">'access_map: {{access_map}}'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role_1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inserted_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-19 05:02:57.206135Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_map"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"sender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"add"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a role.</p>
<h3 id='http-request-100'>HTTP Request</h3>
<p><code>PATCH https://umbrella-demo.yojee.com/v3/api/dispatcher/roles/{id}</code></p>
<h3 id='headers-99'>Headers</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ACCESS_TOKEN</td>
<td>{{ACCESS_TOKEN}}</td>
</tr>
<tr>
<td>COMPANY_SLUG</td>
<td>{{COMPANY_SLUG}}</td>
</tr>
</tbody></table>
<h3 id='body-32'>Body</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>{{name}}</td>
<td>String</td>
</tr>
<tr>
<td>company_id</td>
<td>{{company_id}}</td>
<td>Integer</td>
</tr>
<tr>
<td>access_map</td>
<td>{{access_map}}</td>
<td>Array</td>
</tr>
</tbody></table>
<h3 id='parameters-74'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Role ID</td>
</tr>
</tbody></table>
<h2 id='generate-a-label-on-the-fly'>Generate a label on the fly</h2><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  <span class="s1">'https://umbrella-demo.yojee.com/api/v3/dispatcher/manifests/worker/{worker_id}'</span> <span class="se">\</span>
  -H <span class="s1">'Cache-Control: no-cache'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Worker manifest to be downloaded."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint generates a label on the fly.</p>
<h3 id='http-request-101'>HTTP Request</h3>
<p><code>GET https://umbrella-demo.yojee.com/v3/api/dispatcher/manifests/worker/{worker_id}</code></p>
<h3 id='parameters-75'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>worker_id</td>
<td>Worker ID</td>
</tr>
</tbody></table>
